<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∏ –£—Ä–∞–ª–∞ - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ª–æ–∞–¥–µ—Ä–∞ */
        .loader {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #2d5016;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .map-container {
            position: relative;
            height: 600px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        #map {
            height: 100%;
            width: 100%;
        }

        /* –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .content {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            align-items: start;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ–ø—Ä–æ—Å–∞ –ü–û–î –∫–∞—Ä—Ç–æ–π */
        .quiz-section-bottom {
            width: 100%;
            margin: 10px 0 30px 0;
        }

        .quiz-card {
            background: linear-gradient(135deg, #2d5016 0%, #4a7c1f 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            border: 3px solid #3a6420;
        }

        .quiz-card-content {
            max-width: 100%;
            margin: 0 auto;
        }

        .quiz-card-title {
            font-size: 1.5em;
            margin-bottom: 12px;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }

        .quiz-card-description {
            font-size: 1.1em;
            margin-bottom: 20px;
            line-height: 1.5;
            opacity: 0.95;
        }

        .quiz-card-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: #ff6b35;
            color: white;
            padding: 14px 28px;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
            border: 2px solid transparent;
        }

        .quiz-card-button:hover {
            background: #ff8533;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 53, 0.6);
            border-color: #fff;
        }

        .quiz-card-button:active {
            transform: translateY(0);
        }

        .quiz-card-icon {
            font-size: 1.3em;
        }

        .quiz-card-features {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .quiz-feature {
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            backdrop-filter: blur(5px);
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .map-container {
                height: 500px;
            }
        }

        @media (max-width: 768px) {
            .map-container {
                height: 400px;
            }
            
            .quiz-card {
                padding: 20px;
            }
            
            .quiz-card-title {
                font-size: 1.3em;
            }
            
            .quiz-card-button {
                font-size: 1.1em;
                padding: 12px 24px;
            }
            
            .quiz-card-features {
                gap: 10px;
            }
            
            .quiz-feature {
                font-size: 0.85em;
                padding: 6px 12px;
            }
        }

        @media (max-width: 480px) {
            .quiz-card-features {
                flex-direction: column;
                align-items: center;
            }
            
            .quiz-feature {
                width: fit-content;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üå≤ –ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∏ –£—Ä–∞–ª–∞</h1>
            <p class="subtitle">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –æ—Å–æ–±–æ –æ—Ö—Ä–∞–Ω—è–µ–º—ã—Ö –ø—Ä–∏—Ä–æ–¥–Ω—ã—Ö —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π –£—Ä–∞–ª—å—Å–∫–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –º–∞—Ä–∫–µ—Ä –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫ –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.</p>
            <a href="https://vk.com/zapural" target="_blank" class="vk-button">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M15.07 2H8.93C3.33 2 2 3.33 2 8.93V15.07C2 20.67 3.33 22 8.93 22H15.07C20.67 22 22 20.67 22 15.07V8.93C22 3.33 20.67 2 15.07 2M18.15 16.27H16.69C16.14 16.27 15.97 15.82 15 14.83C14.12 14 13.74 13.88 13.53 13.88C13.24 13.88 13.15 13.96 13.15 14.38V15.69C13.15 16.04 13.04 16.26 12.11 16.26C10.57 16.26 8.86 15.32 7.66 13.59C5.85 11.05 5.36 9.13 5.36 8.75C5.36 8.54 5.43 8.34 5.85 8.34H7.32C7.69 8.34 7.83 8.5 7.97 8.9C8.69 10.96 9.98 12.38 10.48 12.38C10.68 12.38 10.77 12.29 10.77 11.9V10.04C10.77 9.28 10.7 9.15 10.07 9.15C9.58 9.15 8.91 9.35 8.23 10.03C7.34 10.94 7.18 11.17 6.94 11.17C6.82 11.17 6.67 11.08 6.67 10.77V8.81C6.67 8.5 6.79 8.34 7.09 8.34H10.35C10.82 8.34 10.94 8.5 10.94 8.96V11.5C10.94 11.8 11.03 11.87 11.29 11.87C11.56 11.87 11.92 11.75 12.43 11.32C13.04 10.8 13.55 9.96 14.17 8.94C14.31 8.69 14.5 8.34 14.87 8.34H16.42C16.75 8.34 16.85 8.5 16.75 8.81C16.46 9.57 15.5 10.96 15.29 11.2C15.1 11.43 15.07 11.6 15.07 11.9C15.07 12.08 15.15 12.29 15.53 12.29C15.95 12.29 16.57 12.03 17.47 11.12C18.42 10.15 18.85 9.42 18.95 9.21C19.11 8.92 19.28 8.34 19.62 8.34H21.12C21.5 8.34 21.63 8.68 21.5 9C21.25 9.72 19.65 11.7 17.7 13.39C17.2 13.81 16.89 14.04 16.71 14.21C16.33 14.55 16.43 14.7 16.71 15.03C17.06 15.44 18.15 16.43 18.15 16.27Z"/>
                </svg>
                –ú—ã –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
            </a>
        </header>
        
        <div class="stats">
            <div class="stat-item">
                <span class="stat-value">14</span>
                <span class="stat-label">–û–û–ü–¢ –Ω–∞ –∫–∞—Ä—Ç–µ</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">5</span>
                <span class="stat-label">–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∫–æ–≤</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">7</span>
                <span class="stat-label">–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫–æ–≤</span>
            </div>
            <div class="stat-item">
                <span class="stat-value">2</span>
                <span class="stat-label">–ü—Ä–∏—Ä–æ–¥–Ω—ã—Ö –ø–∞—Ä–∫–∞</span>
            </div>
        </div>
        
        <div class="content">
            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç: –∫–∞—Ä—Ç–∞ –∏ —Å–ø–∏—Å–æ–∫ -->
            <div class="main-content">
                <div class="map-container">
                    <div id="loader" class="loader">
                        <div class="loader-spinner"></div>
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–æ–≤...</p>
                    </div>
                    <div id="map"></div>
                </div>
                
                <div class="info-panel">
                    <h2>üó∫Ô∏è –°–ø–∏—Å–æ–∫ –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–æ–≤</h2>
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∞...">
                    </div>
                    <ul class="reserve-list" id="reserveList"></ul>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –æ–ø—Ä–æ—Å–∞ –ü–û–î –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º -->
            <div class="quiz-section-bottom">
                <div class="quiz-card">
                    <div class="quiz-card-content">
                        <h3 class="quiz-card-title">üéØ –ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è!</h3>
                        <p class="quiz-card-description">
                            –ò–∑—É—á–∏–ª –∫–∞—Ä—Ç—É –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–æ–≤? –ü—Ä–æ–π–¥–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É –∏ –ø—Ä–æ–≤–µ—Ä—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —Ç—ã –∑–∞–ø–æ–º–Ω–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏—Ä–æ–¥–Ω–æ–º –Ω–∞—Å–ª–µ–¥–∏–∏ –£—Ä–∞–ª–∞!
                        </p>
                        
                        <a href="https://forms.gle/WnDyJMHBddc3KpedA" target="_blank" class="quiz-card-button">
                            <span class="quiz-card-icon">üìù</span>
                            –ü—Ä–æ–π—Ç–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—É –æ –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∞—Ö
                        </a>

                        <div class="quiz-card-features">
                            <span class="quiz-feature">‚è±Ô∏è 5 –º–∏–Ω—É—Ç</span>
                            <span class="quiz-feature">‚ùì 7 –≤–æ–ø—Ä–æ—Å–æ–≤</span>
                            <span class="quiz-feature">üèÜ –£–∑–Ω–∞–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</span>
                            <span class="quiz-feature">üéì –î–ª—è 5-9 –∫–ª–∞—Å—Å–æ–≤</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–æ–≤ –£—Ä–∞–ª–∞ | –°–æ–∑–¥–∞–Ω–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π | 2024</p>
            <p class="school-info">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è –ú–ê–û–£-–°–û–® ‚Ññ31</p>
        </footer>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const reserves = [
                {
                    id: 1, name: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ ¬´–¢–∞–≥–∞–Ω–∞–π¬ª", type: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫",
                    coords: [55.3167, 59.8500], image: "images/taganay.jpg",
                    description: "–ñ–µ–º—á—É–∂–∏–Ω–∞ –Æ–∂–Ω–æ–≥–æ –£—Ä–∞–ª–∞, –∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å–≤–æ–∏–º–∏ –∂–∏–≤–æ–ø–∏—Å–Ω—ã–º–∏ —Ö—Ä–µ–±—Ç–∞–º–∏. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏. –ü–ª–æ—â–∞–¥—å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 568 –∫–≤. –∫–º.",
                    address: "–≥. –ó–ª–∞—Ç–æ—É—Å—Ç, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "https://park-taganay.ru/",
                    area: "568 –∫–≤. –∫–º", year: "1991"
                },
                {
                    id: 2, name: "–í–∏—Å–∏–º—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫", 
                    coords: [57.4000, 59.5333], image: "images/visimsky.jpg",
                    description: "–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–∏—Ä–æ–¥–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã —Å—Ä–µ–¥–Ω–µ—É—Ä–∞–ª—å—Å–∫–æ–π —Ç–∞–π–≥–∏. –ü–ª–æ—â–∞–¥—å - 335 –∫–≤. –∫–º.",
                    address: "–≥. –ö–∏—Ä–æ–≤–≥—Ä–∞–¥, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "http://visimskiy.ru/",
                    area: "335 –∫–≤. –∫–º", year: "1971"
                },
                {
                    id: 3, name: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ ¬´–ë–∞—à–∫–∏—Ä–∏—è¬ª", type: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫",
                    coords: [53.0500, 56.5167], image: "images/bashkiriya.jpg",
                    description: "–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ –∑–∞–ø–∞–¥–Ω—ã—Ö —Å–∫–ª–æ–Ω–∞—Ö –Æ–∂–Ω–æ–≥–æ –£—Ä–∞–ª–∞ –≤ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω–µ. –ü–ª–æ—â–∞–¥—å - 920 –∫–≤. –∫–º. –ó–Ω–∞–º–µ–Ω–∏—Ç –∫–∞—Ä—Å—Ç–æ–≤—ã–º–∏ —è–≤–ª–µ–Ω–∏—è–º–∏.",
                    address: "–ø. –ù—É–≥—É—à, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω", website: "https://npbashkiria.ru/",
                    area: "920 –∫–≤. –∫–º", year: "1986"
                },
                {
                    id: 4, name: "–ò–ª—å–º–µ–Ω—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [55.0333, 60.1667], image: "images/ilmensky.jpg",
                    description: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–∏–Ω–µ—Ä–∞–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫, –º—É–∑–µ–π –ø–æ–¥ –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–±–æ–º. –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.",
                    address: "–≥. –ú–∏–∞—Å—Å, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "http://igz.ilmeny.ac.ru/",
                    area: "303 –∫–≤. –∫–º", year: "1920"
                },
                {
                    id: 5, name: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ ¬´–Æ–≥—ã–¥ –≤–∞¬ª", type: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫",
                    coords: [62.2500, 59.0000], image: "images/yugyd-va.jpg",
                    description: "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ –†–æ—Å—Å–∏–∏, –æ–±—ä–µ–∫—Ç –í—Å–µ–º–∏—Ä–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è –Æ–ù–ï–°–ö–û. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –†–µ—Å–ø—É–±–ª–∏–∫–µ –ö–æ–º–∏.",
                    address: "–≥. –í—É–∫—Ç—ã–ª, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏", website: "http://ugyd-va.ru/",
                    area: "18 917 –∫–≤. –∫–º", year: "1994"
                },
                {
                    id: 6, name: "–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –ø–∞—Ä–∫ ¬´–ë–∞–∂–æ–≤—Å–∫–∏–µ –º–µ—Å—Ç–∞¬ª", type: "–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –ø–∞—Ä–∫",
                    coords: [56.4833, 60.7167], image: "images/bazhov.jpg",
                    description: "–ü–∞—Ä–∫ –Ω–∞–∑–≤–∞–Ω –≤ —á–µ—Å—Ç—å —É—Ä–∞–ª—å—Å–∫–æ–≥–æ –ø–∏—Å–∞—Ç–µ–ª—è –ü–∞–≤–ª–∞ –ë–∞–∂–æ–≤–∞. –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.",
                    address: "–≥. –°—ã—Å–µ—Ä—Ç—å, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "http://–±–∞–∂–æ–≤—Å–∫–∏–µ-–º–µ—Å—Ç–∞.—Ä—Ñ/",
                    area: "400 –∫–≤. –∫–º", year: "2007"
                },
                {
                    id: 7, name: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ ¬´–ó—é—Ä–∞—Ç–∫—É–ª—å¬ª", type: "–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫",
                    coords: [54.9167, 59.2000], image: "images/zuratkul.jpg",
                    description: "–ó–Ω–∞–º–µ–Ω–∏—Ç –≤—ã—Å–æ–∫–æ–≥–æ—Ä–Ω—ã–º –æ–∑–µ—Ä–æ–º –ó—é—Ä–∞—Ç–∫—É–ª—å –∏ –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–º —Ö—Ä–µ–±—Ç–æ–º. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.",
                    address: "–≥. –°–∞—Ç–∫–∞, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "https://zuratkul.ru/",
                    area: "882 –∫–≤. –∫–º", year: "1993"
                },
                {
                    id: 8, name: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫ –ë–∞—Å–µ–≥–∏", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [58.8500, 58.0667], image: "images/basegi.jpg",
                    description: "–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –ü–µ—Ä–º—Å–∫–æ–º –∫—Ä–∞–µ, —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ—Ö—Ä–∞–Ω—ã —Å—Ä–µ–¥–Ω–µ—É—Ä–∞–ª—å—Å–∫–æ–π —Ç–∞–π–≥–∏.",
                    address: "–≥. –ì—Ä–µ–º—è—á–∏–Ω—Å–∫, –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π", website: "http://basegi.ru/",
                    area: "379 –∫–≤. –∫–º", year: "1982"
                },
                {
                    id: 9, name: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫ ¬´–®—É–ª—å–≥–∞–Ω-–¢–∞—à¬ª", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [53.0500, 57.0667], image: "images/shulgan-tash.jpg",
                    description: "–ò–∑–≤–µ—Å—Ç–µ–Ω –ö–∞–ø–æ–≤–æ–π –ø–µ—â–µ—Ä–æ–π —Å –Ω–∞—Å–∫–∞–ª—å–Ω—ã–º–∏ —Ä–∏—Å—É–Ω–∫–∞–º–∏ –¥—Ä–µ–≤–Ω–µ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞. –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω–µ.",
                    address: "–¥. –ò—Ä–≥–∏–∑–ª—ã, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω", website: "http://shulgan-tash.ru/",
                    area: "225 –∫–≤. –∫–º", year: "1986"
                },
                {
                    id: 10, name: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫ ¬´–î–µ–Ω–µ–∂–∫–∏–Ω –ö–∞–º–µ–Ω—å¬ª", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [60.5000, 59.5333], image: "images/denezhkin.jpg",
                    description: "–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ –°–µ–≤–µ—Ä–Ω–æ–º –£—Ä–∞–ª–µ –≤ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.",
                    address: "–≥. –°–µ–≤–µ—Ä–æ—É—Ä–∞–ª—å—Å–∫, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "http://denkamen.ru/",
                    area: "781 –∫–≤. –∫–º", year: "1946"
                },
                {
                    id: 11, name: "–í–∏—à–µ—Ä—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [61.5000, 59.0000], image: "images/vishersky.jpg",
                    description: "–û–¥–∏–Ω –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–æ–≤ –ï–≤—Ä–æ–ø—ã, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –ü–µ—Ä–º—Å–∫–æ–º –∫—Ä–∞–µ.",
                    address: "–≥. –ö—Ä–∞—Å–Ω–æ–≤–∏—à–µ—Ä—Å–∫, –ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π", website: "http://vishersky.ru/",
                    area: "2 412 –∫–≤. –∫–º", year: "1991"
                },
                {
                    id: 12, name: "–í–æ—Å—Ç–æ—á–Ω–æ-–£—Ä–∞–ª—å—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [55.7333, 60.9000], image: "images/east-ural.jpg",
                    description: "–°–æ–∑–¥–∞–Ω –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, –ø–æ–¥–≤–µ—Ä–≥—à–µ–π—Å—è —Ä–∞–¥–∏–∞—Ü–∏–æ–Ω–Ω–æ–º—É –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—é –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∞–≤–∞—Ä–∏–∏ 1957 –≥–æ–¥–∞.",
                    address: "–≥. –û–∑—ë—Ä—Å–∫, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "#",
                    area: "166 –∫–≤. –∫–º", year: "1966"
                },
                {
                    id: 13, name: "–Æ–∂–Ω–æ-–£—Ä–∞–ª—å—Å–∫–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫", type: "–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫",
                    coords: [54.2833, 57.8333], image: "images/south-ural.jpg",
                    description: "–ö—Ä—É–ø–Ω–µ–π—à–∏–π –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫ –Æ–∂–Ω–æ–≥–æ –£—Ä–∞–ª–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω–µ –∏ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏.",
                    address: "–ø. –†–µ–≤–µ—Ç—å, –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω", website: "http://south-ural-reserve.ru/",
                    area: "2 528 –∫–≤. –∫–º", year: "1979"
                },
                {
                    id: 14, name: "–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –ø–∞—Ä–∫ ¬´–û–ª–µ–Ω—å–∏ —Ä—É—á—å–∏¬ª", type: "–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –ø–∞—Ä–∫",
                    coords: [56.5167, 59.2500], image: "images/oleni-ruchi.jpg",
                    description: "–ü–æ–ø—É–ª—è—Ä–Ω—ã–π –ø—Ä–∏—Ä–æ–¥–Ω—ã–π –ø–∞—Ä–∫ –≤ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏, –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–∫–∞–ª–∞–º–∏, –ø–µ—â–µ—Ä–∞–º–∏ –∏ –Ω–∞—Å–∫–∞–ª—å–Ω—ã–º–∏ —Ä–∏—Å—É–Ω–∫–∞–º–∏.",
                    address: "–ø. –ë–∞–∂—É–∫–æ–≤–æ, –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", website: "http://–æ–ª–µ–Ω—å–∏-—Ä—É—á—å–∏.—Ä—Ñ/",
                    area: "127 –∫–≤. –∫–º", year: "1999"
                }
            ];

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –ª–æ–∞–¥–µ—Ä–∞
            function hideLoader() {
                const loader = document.getElementById('loader');
                if (loader) {
                    loader.style.display = 'none';
                }
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–∫–∏
            function showError(message) {
                const loader = document.getElementById('loader');
                if (loader) {
                    loader.innerHTML = `
                        <div style="color: #e74c3c; font-size: 1.2em; margin-bottom: 10px;">‚ùå</div>
                        <p style="color: #e74c3c; margin-bottom: 15px;">${message}</p>
                        <button onclick="location.reload()" style="background: #2d5016; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                            –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
                        </button>
                    `;
                }
            }

            try {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
                const map = L.map('map', { 
                    zoomControl: false,
                    renderer: L.canvas()
                }).setView([58.5, 59.0], 5);
                
                L.control.zoom({ position: 'topright' }).addTo(map);

                // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª–æ–π –∫–∞—Ä—Ç—ã
                const tileLayer = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                    attribution: '',
                    maxZoom: 17,
                    errorTileUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='
                }).addTo(map);

                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç—ã
                tileLayer.on('load', function() {
                    console.log('–ö–∞—Ä—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                    hideLoader();
                });

                tileLayer.on('tileerror', function(e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–∞–π–ª–∞:', e);
                });

                // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                const reserveList = document.getElementById('reserveList');
                const searchInput = document.getElementById('searchInput');
                let markers = [];
                
                // –§—É–Ω–∫—Ü–∏–∏
                function createListItem(reserve) {
                    const listItem = document.createElement('li');
                    listItem.className = 'reserve-item';
                    listItem.dataset.id = reserve.id;
                    listItem.innerHTML = `
                        <div class="reserve-name">${reserve.name}</div>
                        <div class="reserve-type">${reserve.type}</div>
                        <div class="reserve-location">${reserve.address}</div>
                    `;
                    
                    listItem.addEventListener('click', () => {
                        activateReserve(reserve.id);
                        const marker = markers.find(m => m.reserveId === reserve.id);
                        if (marker) {
                            map.setView(marker.getLatLng(), 9);
                            marker.openPopup();
                        }
                    });
                    
                    return listItem;
                }
                
                function activateReserve(reserveId) {
                    document.querySelectorAll('.reserve-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    const activeItem = document.querySelector(`.reserve-item[data-id="${reserveId}"]`);
                    if (activeItem) {
                        activeItem.classList.add('active');
                    }
                }
                
                function createPopupContent(reserve) {
                    return `
                        <div class="popup-content">
                            ${reserve.image ? 
                                `<img src="${reserve.image}" alt="${reserve.name}" class="popup-image" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : 
                                ''
                            }
                            <div class="image-placeholder" style="${reserve.image ? 'display: none' : ''}">
                                üèûÔ∏è ${reserve.name}
                            </div>
                            <h3>${reserve.name}</h3>
                            <p><strong>–¢–∏–ø:</strong> ${reserve.type}</p>
                            <p><strong>–ü–ª–æ—â–∞–¥—å:</strong> ${reserve.area}</p>
                            <p><strong>–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è:</strong> ${reserve.year}</p>
                            <p>${reserve.description}</p>
                            <p><strong>–ê–¥—Ä–µ—Å:</strong> ${reserve.address}</p>
                            ${reserve.website !== '#' ? 
                                `<a href="${reserve.website}" target="_blank" class="website-link">üåê –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</a>` : 
                                ''
                            }
                        </div>
                    `;
                }
                
                function getIconColor(type) {
                    if (type.includes('–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫')) return '#3388ff';
                    if (type.includes('–ó–∞–ø–æ–≤–µ–¥–Ω–∏–∫')) return '#e74c3c';
                    return '#2ecc71';
                }
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
                reserves.forEach(reserve => {
                    if (reserveList) {
                        reserveList.appendChild(createListItem(reserve));
                    }
                    
                    const customIcon = L.divIcon({
                        html: `<div style="background-color: ${getIconColor(reserve.type)}; width: 14px; height: 14px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 8px rgba(0,0,0,0.5);"></div>`,
                        className: 'custom-marker',
                        iconSize: [20, 20],
                        iconAnchor: [10, 10]
                    });
                    
                    const marker = L.marker(reserve.coords, { icon: customIcon })
                        .addTo(map)
                        .bindPopup(createPopupContent(reserve));
                    
                    marker.reserveId = reserve.id;
                    markers.push(marker);
                    
                    marker.on('click', () => activateReserve(reserve.id));
                });

                // –ü–æ–∏—Å–∫
                if (searchInput) {
                    searchInput.addEventListener('input', (e) => {
                        const searchTerm = e.target.value.toLowerCase();
                        document.querySelectorAll('.reserve-item').forEach(item => {
                            const text = item.textContent.toLowerCase();
                            item.style.display = text.includes(searchTerm) ? 'block' : 'none';
                        });
                    });
                }

                // –°–∫—Ä—ã—Ç—å –ª–æ–∞–¥–µ—Ä —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
                setTimeout(hideLoader, 5000);

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã:', error);
                showError('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ä—Ç—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');
            }
        });
    </script>
</body>
</html>
